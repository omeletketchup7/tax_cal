<div class="header d-flex justify-content-center mt-5">
  <p class="headerText">Submit Tax Filing</p>
</div>
<div class="stepperFiling d-flex justify-content-center mt-5 mb-4">
  <div class="col-6 d-flex">



    <div class="col-2">
      <div class="stepperNumberAndText  ">
        <div class="stepperNumberAndTextStyle justify-content-center d-flex row">
          <div class="stepperNumberContainer col-12 d-flex justify-content-center">
            <p class="stepperNumber">1</p>
          </div>
          <p class="stepperText col-12 mt-3">Input Detail</p>
        </div>
      </div>
    </div>

    <div class="col-7 align-self-center">
      <div class="lineStepper  mb-5"></div>
    </div>

    <div class="col-3">
      <div class="stepperNumberAndText ">
        <div class="stepperNumberAndTextStyle justify-content-center d-flex row">
          <div class="stepperNumberContainer col-12 d-flex justify-content-center">
            <p class="stepperNumber">2</p>
          </div>
          <p class="stepperText col-12 mt-3">Review & Comfirm</p>
        </div>
      </div>
    </div>

  </div>

</div>


<div *ngIf="isFirstPage">

  <div class="justify-content-center d-flex">
    <div class="col-md-8">
      <h2 class="mb-4 mt-5">1. Tax Filing Detail</h2>
      <div class="line"></div>
      <div class="mt-5">
        <h6 class="pb-3">Type of filing</h6>

        <app-filing-type (radioSent)="fromRadio($event)"></app-filing-type>

        <div *ngIf="ordinaryFiling">
          <div>
            <h6 class="mt-5 pb-3">VAT Month</h6>
            <div class="d-flex">
              <app-year (sentYear)="fromYear($event)" class="me-4"></app-year>
              <app-month (sentMonth)="fromMonth($event)" [year]="selectYear"></app-month>
            </div>
          </div>

        </div>

        <div *ngIf="!ordinaryFiling">
          <div class="d-flex ">
            <div class="">
              <h6 class="mt-5 pb-3">Tax Month</h6>
              <div class="d-flex">
                <app-year (sentYear)="fromYear($event)" class="me-4"></app-year>
                <app-month (sentMonth)="fromMonth($event)" [year]="selectYear"></app-month>
              </div>
            </div>
            <div class="col-5 d-flex justify-content-center">
              <div>
                <h6 class="mt-5 pb-3">Type</h6>
                <form [formGroup]="yearMonthFormGroup" class="d-flex">
                  <select class="form-select optionStyle  me-4" formControlName="year">
                    <option value="" disabled hidden>please select year</option>
                    <option *ngFor="let month of years" [value]="month.value">
                      {{ month.label }}
                    </option>
                  </select>
                </form>
              </div>
            </div>
          </div>
        </div>



      </div>


    </div>
  </div>
  <div class="justify-content-center d-flex mt-5">
    <div class="col-md-8">
      <h2 class="mb-4 mt-5">2. Tax Computation</h2>
      <div class="line"></div>

      <div class="mt-5">
        <h6 class="pb-3">Provide total taxable electronic service</h6>
        <div class="container">
          <div class="row col-12 mb-3">
            <div class="col-7">
              <p>1. Total value of taxable electronic service exclusive of VAT</p>
            </div>
            <app-sale-amount (sentSaleAmount)="fromSaleAmount($event)"
              class="col-5 justify-content-end d-flex"></app-sale-amount>
          </div>
          <div class="row col-12 mb-3">
            <div class="col-7">
              <p>2. Total VAT to be remitted (7% of 1.)</p>
            </div>
            <app-tax-amount class="col-5 justify-content-end d-flex"
              [taxAmountFromParent]="taxCalForm.get('saleAmount')?.value"
              (sentTaxAmount)="fromTaxAmount($event)"></app-tax-amount>
          </div>
        </div>
      </div>
      <div *ngIf="!ordinaryFiling">
        <div class="mt-5">
          <h6 class="pb-3">In case of late filing of payment, or additional filing</h6>
          <div class="container">
            <div class="row col-12 mb-3">
              <div class="col-7">
                <p>3. Surcharge</p>
              </div>
              <app-surcharge class="col-5 justify-content-end d-flex" (sentSurcharge)="fromSurcharge($event)"
                [taxAmountFromParentToSurcharge]="taxCalForm.get('taxAmount')?.value"></app-surcharge>
            </div>
            <div class="row col-12 mb-3">
              <div class="col-7">
                <p>4. Penalty</p>
              </div>
              <app-penalty class="col-5 justify-content-end d-flex" (sentPenalty)="fromPenalty($event)"
                [taxAmountFromParentToPenalty]="taxCalForm.get('taxAmount')?.value"></app-penalty>
            </div>
            <div class="row col-12 mb-3">
              <div class="col-7">
                <p>5. Total amount of VAT, Surcharge, and Penalty to be remitted (2. + 3. + 4.)</p>
              </div>
              <app-total-amount [taxAmountToTotal]="taxCalForm.get('taxAmount')?.value"
                [penaltyToTotal]="taxAdditionCalForm.get('penalty')?.value"
                [surchargeToTotal]="taxAdditionCalForm.get('surcharge')?.value" class="col-5 justify-content-end d-flex"
                (sentTotal)="fromTotal($event)"></app-total-amount>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>



<div *ngIf="!isFirstPage">

  <div class="justify-content-center d-flex mt-5 pb-5">
    <div class="col-md-8">
      <h2 class="mb-4 mt-5">Tax Filing Detail</h2>
      <div class="line"></div>
      <div class="mt-5">
        <h6 class="pb-3">Provide total taxable electronic service</h6>
        <div class="container">
          <div class="row col-12 mb-3">
            <div class="col-7">
              <p>1. Total value of taxable electronic service exclusive of VAT</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

</div>





<div class="justify-content-center d-flex mt-5 pb-5" *ngIf="isFirstPage">
  <div class="col-md-8">
    <button class="btn btn-primary" (click)="nextToPage2()">Next</button>
  </div>
</div>
<div class="justify-content-center d-flex mt-5 pb-5" *ngIf="!isFirstPage">
  <div class="col-md-8">
    <button class="btn btn-primary" (click)="nextToPage1()">Next</button>
  </div>
</div>